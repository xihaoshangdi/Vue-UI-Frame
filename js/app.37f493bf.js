(function(e){function t(t){for(var n,l,i=t[0],c=t[1],s=t[2],f=0,d=[];f<i.length;f++)l=i[f],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},o=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/Vue-UI-Frame/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00a3":function(e,t,a){},"036f":function(e,t,a){},"04b1":function(e,t,a){"use strict";a("af9d")},"15fb":function(e,t,a){},"17c0":function(e,t,a){},"1c49":function(e,t,a){"use strict";a("82ee")},"2e0e":function(e,t,a){"use strict";a("15fb")},"52bc":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("d81d"),a("45fc"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"表单组件",name:"form"}},[a("Form")],1),a("el-tab-pane",{attrs:{label:"右击组件",name:"click"}},[a("Click")],1),a("el-tab-pane",{attrs:{label:"页面组件",name:"pager"}},[a("Pager")],1)],1)],1)},o=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("base-form",{ref:"baseForm",attrs:{"form-data":e.formData,"form-hash":e.formHash},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.scope;return[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirm(n)}}},[e._v("确认")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancel(n)}}},[e._v("取消")])]}}])})],1)},i=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-scrollbar",[a("form",{staticClass:"container",style:e.formStyle},e._l(e.formHash,(function(t,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.handleShow(e.formHash[n]),expression:"handleShow(formHash[key])"}],key:n,staticClass:"form__item"},[a("div",{staticClass:"form__item__header"},[a("span",[e._v(e._s(e.formHash[n].label))])]),a("div",{staticClass:"form__item__content"},["text"===e.formHash[n].type?[a("el-input",{attrs:{disabled:e.formHash[n].disabled},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:"radio"===e.formHash[n].type?[a("el-select",{attrs:{disabled:e.formHash[n].disabled,clearable:"",placeholder:"请选择"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}},e._l(e.formHash[n].options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]:"checkbox"===e.formHash[n].type?[a("el-select",{attrs:{disabled:e.formHash[n].disabled,clearable:"",multiple:"",placeholder:"请选择"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}},e._l(e.formHash[n].options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]:"datetime"===e.formHash[n].type?[a("el-date-picker",{attrs:{type:"datetime",disabled:e.formHash[n].disabled,format:e.formHash[n].format,"value-format":e.formHash[n].valueFormat},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:"duration"===e.formHash[n].type?[a("el-time-picker",{attrs:{disabled:e.formHash[n].disabled,format:"HH:mm","value-format":"HH:mm",placeholder:"请输入时间"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:"textarea"===e.formHash[n].type?[a("el-input",{attrs:{autosize:{minRows:2,maxRows:3},placeholder:"请输入内容",type:"textarea"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:e._e()],2)])})),0)]),a("div",{staticClass:"formSlot"},[e._t("default",null,{scope:Object.assign({},e.form)})],2)],1)},s=[],u=(a("4160"),a("b64b"),a("159b"),a("7db0"),a("fb6a"),a("b0c0"),a("4ec9"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),function(e){var t=Object.assign({},e),a=[];return Object.keys(t).forEach((function(e){var n=Object.prototype.toString.call(t[e]).slice(8,-1).toLowerCase();switch(n){case"string":""===t[e]&&(a.push(e),delete t[e]);break;case"array":0===t[e].length&&(a.push(e),delete t[e]);break;case"object":0===Object.keys(t[e]).length&&(a.push(e),delete t[e]);break;case"null":a.push(e),delete t[e];break;case"undefined":a.push(e),delete t[e];break;default:console.log("------------")}})),{Status:0!==a.length,NullabilityList:a,NonEmptyObj:t}});function f(e){var t=[];if(Object.keys(e).forEach((function(a){e[a].dependProp&&t.push({name:a,node:e[a].dependProp})})),0===t.length)return!0;var a=new Map,n=t[0],r=function e(n){var r=a.get(n.name);if(r)throw new Error("error");a.set(n.name,!0),n.status=!0;for(var o=function(a){var r=t.find((function(e){return e.name===n.node[a]}));r&&e(r)},l=0;l<n.node.length;l++)o(l)};try{return r(n),!0}catch(o){return!1}}var d={name:"BaseForm",props:{formData:{type:Object,default:function(){}},formHash:{type:Object,default:function(){}},formStyle:{type:Object,default:function(){return{height:"300px"}}}},data:function(){return{labelPosition:"top",form:{}}},created:function(){var e=this,t=this.formHash,a=f(t);if(a){var n=this,r=Object.assign({},this.formData),o={set:function(e,a,r){return e[a]=r,t[a]&&t[a].correlate&&t[a].correlate(n.form),!0}};this.form=new Proxy(r,o),Object.keys(t).forEach((function(t){e.formData[t]&&(e.form[t]=e.formData[t])}))}},methods:{handleShow:function(e){return void 0===e.show||e.show},verify:function(e){var t=this;try{return Object.keys(this.formHash).forEach((function(a){if(t.formHash[a].required&&""===e[a])throw new Error("".concat(t.formHash[a].label,"不允许为空"))})),!0}catch(a){return this.$message.error(a.message),!1}},resetForm:function(){var e=this;Object.keys(this.form).forEach((function(t){e.form[t]=""}))}}},m=d,p=(a("1c49"),a("2877")),h=Object(p["a"])(m,c,s,!1,null,"825e87fe",null),b=h.exports,v={name:"Form",components:{BaseForm:b},data:function(){var e=this;return{formData:{name:"",birth:"2020/12/10 00:00:00",constellation:"",week:"",age:"",education:"",adult:"成人",xxx:"xxxx"},formHash:{name:{label:"姓名",type:"text",required:!0},birth:{label:"出生日期",type:"datetime",required:!0,format:"yyyy/MM/dd HH:mm:ss",valueFormat:"yyyy/MM/dd HH:mm:ss",dependProp:["constellation","week","age"],correlate:function(t){var a=new Date(t.birth);t.constellation=e.getAstro(a.getMonth()+1,a.getDay()),t.week="星期".concat("一二三四五六日"[a.getDay()+1]),t.age=(new Date).getFullYear()-a.getFullYear()}},constellation:{label:"出生星座",type:"text",disabled:!0},week:{label:"出生星期",type:"text",disabled:!0},age:{label:"年龄",type:"text",dependProp:["education"],correlate:function(e){e.age<3?e.education="家教":e.age<6?e.education="幼稚园":e.age<=12?e.education="小学":e.age<=15?e.education="初中":e.age<=18?e.education="高中":e.age<=22?e.education="大学":e.age<=25?e.education="研究生":e.education="博士"}},introduce:{label:"介绍",type:"textarea",disabled:!0},education:{label:"学历",type:"text",disabled:!0},adult:{label:"身份",type:"text",disabled:!0}}}},methods:{getAstro:function(e,t){var a="魔羯水瓶双鱼牡羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯",n=[20,19,21,21,21,22,23,23,23,23,22,22];return a.substr(2*e-(t<n[e-1]?2:0),2)+"座"},confirm:function(e){this.$refs.baseForm.verify(e)},cancel:function(){this.$refs.baseForm.resetForm()}}},y=v,g=(a("66a2"),Object(p["a"])(y,l,i,!1,null,"5fbc333e",null)),k=g.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("base-search",{attrs:{"search-form":e.searchForm,"source-data":e.sourceData},on:{handleSearchData:e.handlePageData,handleResetData:e.handleResetData}}),a("base-table",{ref:"baseTable",attrs:{"table-data":e.tableData,config:e.config},scopedSlots:e._u([{key:"special",fn:function(){return[a("el-table-column",{key:"special",attrs:{prop:"special",label:"特殊处理"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,r=t.$index;return[a("el-button",{on:{click:function(t){return e.handleTableEdit(n,r)}}},[e._v("编辑")]),a("el-button",{on:{click:function(t){return e.handleTableDelete(n,r)}}},[e._v("删除")])]}}])})]},proxy:!0}])}),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)},_=[],w=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-area"},[e._l(e.searchForm,(function(t,n){return[a("div",{key:n},[a("div",[e._v(e._s(t.label))]),"text"===t.type?[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:"radio"===t.type?[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]:"timeBefore"===t.type?[a("el-date-picker",{attrs:{type:"datetime","value-format":t.format,format:t.format,placeholder:"选择日期时间"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:"timeLimit"===t.type?[a("el-date-picker",{attrs:{type:"datetimerange","value-format":t.format,format:t.format,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:"duration"===t.type?[a("el-time-picker",{attrs:{"value-format":t.format,format:t.format,placeholder:"选择时间范围"},model:{value:e.form[n],callback:function(t){e.$set(e.form,n,t)},expression:"form[key]"}})]:e._e()],2)]})),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],2)}),j=[],D=(a("caad"),a("ac1f"),a("2532"),a("1276"),a("3835")),O=a("5a0c"),$=a.n(O),H=a("e418");$.a.extend(H);var S,P={name:"BaseSearch",props:{searchForm:{type:Object,default:function(){}},sourceData:{type:Array,default:function(){return[]}}},data:function(){return{form:{}}},methods:{search:function(){var e=this;try{var t=Object.keys(u(this.form).NonEmptyObj);t.forEach((function(t){e.searchForm[t].verify&&e.searchForm[t].verify(e.form[t])}));var a=this.sourceData.filter((function(a){var n=t.map((function(t){var n=e.searchForm[t],r=n.type,o=n.vague;switch(r){case"text":case"radio":return o?String(a[t]).includes(e.form[t]):String(a[t])===String(e.form[t]);case"timeBefore":return $()(a[t]).isBefore(e.form[t]);case"timeLimit":return $()(a[t]).isBetween($()(e.form[t][0]),$()(e.form[t][1]),null,"[)");case"duration":var l=e.form[t].split(":"),i=Object(D["a"])(l,2),c=i[0],s=i[1],u=a[t].split(":"),f=Object(D["a"])(u,2),d=f[0],m=f[1];return Boolean(60*c+s-60*d+m);default:return!0}}));if(!n.includes(!1))return a}));console.log("filterData",a),this.$emit("handleSearchData",a)}catch(n){this.$message.error(n.message)}},reset:function(){var e=this;Object.keys(this.form).forEach((function(t){e.form[t]=""})),this.$emit("handleResetData",this.sourceData)}}},F=P,E=(a("81c4"),Object(p["a"])(F,w,j,!1,null,"1808b43c",null)),C=E.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,"tooltip-effect":"dark",height:"490"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"header-align":"center",type:"selection",width:"75"}}),e._l(e.config,(function(t){return[e._t(t.prop,[t.component?a("el-table-column",e._b({key:t.prop},"el-table-column",t,!1),[a(t.component,{tag:"component",attrs:{data:t}})],1):a("el-table-column",e._b({key:t.prop},"el-table-column",t,!1))])]}))],2)],1)},B=[],M={name:"BaseTable",props:{tableData:{type:Array,default:function(){return[]}},config:{type:Array,default:function(){return[]}}},data:function(){return{multipleSelection:[]}},methods:{handleSelectionChange:function(e){this.multipleSelection=e}}},N=M,R=(a("ff7a"),Object(p["a"])(N,T,B,!1,null,"bb7bf27c",null)),G=R.exports,L={name:"Pager",components:{BaseTable:G,BaseSearch:C},data:function(){return{sourceData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",food:"黄金糕"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄",food:"双皮奶"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄",food:"蚵仔煎"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",food:"龙须面"}],searchForm:{date:{label:"日期",type:"timeLimit",format:"yyyy/MM/dd hh:mm"},name:{label:"姓名",type:"text",vague:!0},address:{label:"地址",type:"text",vague:!0},food:{label:"食物",type:"radio",options:[{value:"黄金糕",label:"黄金糕"},{value:"双皮奶",label:"双皮奶"},{value:"蚵仔煎",label:"蚵仔煎"},{value:"龙须面",label:"龙须面"},{value:"北京烤鸭",label:"北京烤鸭"}],vague:!1}},config:[{prop:"date",label:"日期"},{prop:"name",label:"姓名"},{prop:"address",label:"地址"},{prop:"food",label:"食物"},{prop:"special",label:"特殊处理"}],pageData:[],currentPage:1,pageSize:2}},computed:{tableData:function(){var e=(this.currentPage-1)*this.pageSize,t=this.currentPage*this.pageSize;return this.pageData.filter((function(a,n){return n>=e&&n<t}))},total:function(){return this.pageData.length}},watch:{sourceData:{handler:function(e){this.pageData=e},immediate:!0}},methods:{handlePageData:function(e){this.currentPage=1,this.pageData=e},handleResetData:function(e){this.currentPage=1,this.pageData=e,this.$refs.baseTable.$refs.multipleTable.clearSelection()},handleTableEdit:function(e){console.log("editData",e),this.$emit("handleEditInfo",e)},handleTableDelete:function(e){console.log("delData",e),this.$emit("handleDeleteInfo",e)}}},z=L,A=Object(p["a"])(z,x,_,!1,null,"7754b6ef",null),Y=A.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"right-click",rawName:"v-right-click",value:e.menuGroup,expression:"menuGroup"}],staticClass:"container"},[a("div",[e._v(e._s(e.yyy))])])},I=[],X={name:"Click",data:function(){var e=this;return{yyy:123456,menuGroup:[{text:"--",verify:function(e){return!0},handle:function(){e.yyy--}},{text:"++",verify:function(e){return!0},handle:function(){e.yyy++}}]}}},J=X,U=(a("04b1"),Object(p["a"])(J,q,I,!1,null,"29693334",null)),V=U.exports,K={name:"App",components:{Click:V,Pager:Y,Form:k},data:function(){return{activeName:"click"}}},Q=K,W=Object(p["a"])(Q,r,o,!1,null,null,null),Z=W.exports,ee=a("5c96"),te=a.n(ee),ae=(a("0fae"),a("036f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag&&0!==e.menuGroup.length,expression:"showFlag&&menuGroup.length!==0"}],staticClass:"container",style:e.position},[e._l(e.menuGroup,(function(t,n){return[a("div",{key:n,on:{click:function(a){return e.confirm(t)}}},[e._v(" "+e._s(t)+" ")])]}))],2)}),ne=[],re={name:"RightClick",data:function(){return{showFlag:!1,menuGroup:[],coordinate:null,position:{}}},methods:{renderPopup:function(e){var t=this;return this.showFlag=!0,this.excess=function(){"function"===typeof e&&e.call(t,t),t.reject(),t.hide()},window.addEventListener("mousewheel",this.excess,{once:!0}),window.addEventListener("click",(function(e){t.$el.contains(e.target)||t.excess}),{once:!0}),new Promise((function(e,a){t.reject=a,t.resolve=e})).then((function(a){return"function"===typeof e&&e.call(t,t),a}))},confirm:function(e){this.resolve(e),this.hide()},hide:function(){this.showFlag=!1,document.body.removeChild(this.$el),this.$destroy()}}},oe=re,le=(a("2e0e"),Object(p["a"])(oe,ae,ne,!1,null,"2b569722",null)),ie=le.exports,ce=n["default"].extend(ie),se=function(){S=new ce,document.body.appendChild(S.$mount().$el)},ue=function(e){S||(console.log("初始化弹窗实例"),se());var t=e.coordinate;return t&&S.$nextTick((function(){var a=t.rect,n=t.clientX,r=t.clientY,o=a.right,l=a.bottom,i=S.$el.getBoundingClientRect(),c=i.width,s=i.height,u=n+c>o?o-c:n,f=r+s>l?l-s:r;e.position={left:"".concat(u,"px"),top:"".concat(f,"px")},Object.assign(S,e)})),S.renderPopup((function(e){console.log("销毁弹窗实例"),S=null}))};n["default"].use(te.a),n["default"].config.productionTip=!1,n["default"].directive("rightClick",{inserted:function(e,t,a){var n=t.value;e.addEventListener("contextmenu",(function(t){t.preventDefault(),ue({menuGroup:n.map((function(e){return e.text})),coordinate:{rect:e.getBoundingClientRect(),clientX:t.clientX,clientY:t.clientY}}).then((function(e){n.some((function(t){if(t.text===e)return t.handle(),!0}))}))}))}}),new n["default"]({render:function(e){return e(Z)}}).$mount("#app")},"66a2":function(e,t,a){"use strict";a("00a3")},"81c4":function(e,t,a){"use strict";a("17c0")},"82ee":function(e,t,a){},af9d:function(e,t,a){},ff7a:function(e,t,a){"use strict";a("52bc")}});
//# sourceMappingURL=app.37f493bf.js.map